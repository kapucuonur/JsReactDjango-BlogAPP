{"ast":null,"code":"var _jsxFileName = \"/Users/onurkapucu/Downloads/Django-And-React-JS-Blog-main/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport ArticleList from './components/ArticleList';\nimport { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport NavBar from './components/NavBar';\nimport Form from './components/Form';\nimport { useNavigate } from 'react-router-dom';\nimport { useCookies } from 'react-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [articles, setArticles] = useState([]);\n  const [editArticle, setEditArticle] = useState('');\n  const [token, setToken, removeToken] = useCookies(['mytoken']);\n  let navigate = useNavigate();\n  useEffect(() => {\n    fetch('http://localhost:8000/api/articles/', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'a2a76bcaca32becedbd9fc8542dc293f9c98b92b'\n      }\n    }).then(resp => resp.json()).then(resp => setArticles(resp)).catch(error => console.log(error));\n  }, []);\n\n  const editBtn = article => {\n    setEditArticle(article);\n  };\n\n  const updatedInformation = article => {\n    const new_article = articles.map(myarticle => {\n      if (myarticle.id === article.id) {\n        return article;\n      } else {\n        return myarticle;\n      }\n    });\n    setArticles(new_article);\n  };\n\n  const articleForm = () => {\n    setEditArticle({\n      title: '',\n      description: ''\n    });\n  };\n\n  const insertedInformation = article => {\n    const new_articles = [...articles, article];\n    setArticles(new_articles);\n  };\n\n  const deleteBtn = article => {\n    const new_article = articles.filter(myarticle => {\n      if (myarticle.id === article.id) {\n        return false;\n      }\n\n      return true;\n    });\n    setArticles(new_article);\n  };\n\n  useEffect(() => {\n    var user_token = token['mytoken'];\n    console.log('User token is', user_token);\n\n    if (String(user_token) === 'undefined') {\n      navigate('/');\n    } else {\n      navigate('/articles');\n    }\n  }, [token]);\n\n  const logoutBtn = () => {\n    removeToken(['mytoken']);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: articleForm,\n          children: \"Create Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(ArticleList, {\n      articles: articles,\n      editBtn: editBtn,\n      deleteBtn: deleteBtn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      article: editArticle,\n      updatedInformation: updatedInformation,\n      insertedInformation: insertedInformation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"6RdYgQuzAb2CXYHmVv9UmBRCbfY=\", false, function () {\n  return [useCookies, useNavigate];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["ArticleList","useState","useEffect","NavBar","Form","useNavigate","useCookies","App","articles","setArticles","editArticle","setEditArticle","token","setToken","removeToken","navigate","fetch","method","headers","then","resp","json","catch","error","console","log","editBtn","article","updatedInformation","new_article","map","myarticle","id","articleForm","title","description","insertedInformation","new_articles","deleteBtn","filter","user_token","String","logoutBtn"],"sources":["/Users/onurkapucu/Downloads/Django-And-React-JS-Blog-main/frontend/src/App.js"],"sourcesContent":["import './App.css';\nimport ArticleList from './components/ArticleList';\nimport {useState,useEffect} from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport NavBar from './components/NavBar';\nimport Form from './components/Form';\nimport {useNavigate} from 'react-router-dom'\nimport {useCookies} from 'react-cookie'\n\n\nfunction App() {\n  const [articles, setArticles] = useState([])\n  const [editArticle, setEditArticle] = useState('')\n  const [token, setToken, removeToken] = useCookies(['mytoken'])\n  let navigate = useNavigate()\n\n\n  useEffect(() =>{\n    fetch('http://localhost:8000/api/articles/', {\n      method:'GET',\n      headers:{\n        'Content-Type': 'application/json',\n        'Authorization': 'a2a76bcaca32becedbd9fc8542dc293f9c98b92b'\n      }\n    })\n    .then(resp => resp.json())\n    .then(resp => setArticles(resp))\n    .catch(error => console.log(error))\n\n  }, [])\n\n  const editBtn = (article) =>{\n    setEditArticle(article)\n  }\n\n  const updatedInformation = (article) => {\n    const new_article = articles.map(myarticle => {\n      if(myarticle.id === article.id){\n        return article\n      }else{\n        return myarticle\n      }\n    })\n    setArticles(new_article)\n  }\n\n  const articleForm = () =>{\n    setEditArticle({title:'', description:''})\n  }\n\n  const insertedInformation = (article) => {\n   const new_articles = [...articles,article]\n   setArticles(new_articles)\n  }\n\n  const deleteBtn = (article) =>{\n    const new_article = articles.filter(myarticle => {\n      if(myarticle.id === article.id){\n        return false\n      }\n      \n      return true\n    })\n    setArticles(new_article)\n  }\n\n\n  useEffect(()=> {\n    var user_token = token['mytoken']\n    console.log('User token is',user_token)\n    if(String(user_token) === 'undefined'){\n        navigate('/')\n    }else{\n      navigate('/articles')\n    }\n}, [token])\n\n\nconst logoutBtn = () => {\n  removeToken(['mytoken'])\n\n}\n \n\n\n  return (\n    <div className=\"App\">\n\n   <NavBar />\n   <br />\n\n   <div className=\"row\">\n     <div className=\"col\">\n       <button className=\"btn btn-primary\" onClick={articleForm}>Create Post</button>\n\n     </div>\n\n   </div>\n\n\n\n    <ArticleList articles={articles} editBtn ={editBtn}  deleteBtn ={deleteBtn}/>\n    <Form  article = {editArticle} updatedInformation= {updatedInformation} insertedInformation= {insertedInformation}/>\n  \n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}